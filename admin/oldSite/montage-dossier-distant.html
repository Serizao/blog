<?php
session_start();
if ($_GET['action']=='logout'){
	$_SESSION = array();
	$errMsg = '<div style="border:solid 2px green;background:lightgreen;color:green;padding:1em;display:inline-block">Votre session est terminée.</div>';
}?>
<!DOCTYPE html>
<html>
<head>
	<title>blog - montage-dossier-distant</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="J'ai souvent besoin de partager des fichiers entre mes postes et mes VPS. J'ai donc cherché une solution me permettant de monter un dossier distant sur un poste local.">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/prism.css">
	<script type="text/javascript" src="js/prism.js"></script>
</head>
<body>
	<h1 class="titrarticle">montage-dossier-distant</h1>
<p class="resume">J'ai souvent besoin de partager des fichiers entre mes postes et mes VPS. J'ai donc cherché une solution me permettant de monter un dossier distant sur un poste local.</p>
<p><p>Le cahier des charges, ici, est de monter un fichier distant sur un dossier local grace à ssh.
Après recherche, sshfs correspond à mes besoins.</p>
<p>Pour ça, il me faut plusieurs choses : ssh et sshfs.</p>
<p>J'expliquais dans un autre article comment configurer ssh afin de prendre la main sur un poste.
Le but ici, est de pouvoir se connecter par un simple &quot;ssh nom_d_hote&quot;.</p>
<p>Voici le lien vers l'article configuration de SSH.</p>
<p>À ce moment, je suis capable de me connecter grace au nom d'hôte du poste distant (pour l'exemple, on partira du principe que le nom d'hôte est &quot;partage&quot;).</p>
<p>J'installe maintenant sshfs.</p>
<pre><code class="language-bash">sudo apt install sshfs</code></pre>
<p>Dès lors, je peux monter un répertoire distant.
Lorsque l'hôte n'est pas défini, la commande est celle-ci :</p>
<pre><code class="language-bash">sshfs -p PORT USER@IP:REPERTOIRE_DISTANT POINT_DE_MONTAGE</code></pre>
<p>Si l'hôte est créé :</p>
<pre><code class="language-bash">sshfs partage:REPERTOIRE_DISTANT POINT_DE_MONTAGE</code></pre>
<p>Dans mon cas, je synchronise le répertoire personnel distant avec mon /home/matthieu/sync_distant/ local.La commande est donc :</p>
<pre><code class="language-bash">sshfs partage: sync_distant</code></pre>
<p>Quand j'ai terminé les manipulations que j'avais à faire, je démonte le répertoire distant avec la commande fusermount :</p>
<pre><code class="language-bash">fusermount -u sync_distant</code></pre></p>
<div class="footer"><p> - <a href="index.html">Accueil</a> - <a href="blabla.html" title="Article précédent">blabla</a></p></div>
</body>
</html>